<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8" />
    </head>
    <body>
        <script src="../src/EventDispatcher.js"></script>
        <script>

            // Adding events to custom object

            var Car = function () {

                EventDispatcher.call( this );

                this.start = function () {

                    this.dispatchEvent( { type: 'start', message: 'vroom vroom!' } );

                };

            };


            // Using the EventDispatcher prototype

            var PrototypicalCar = function() {

                this.start = function() {

                    this.dispatchEvent( { type: 'start', message: 'prototypical vrooom!' } );

                };

            };

            PrototypicalCar.prototype = Object.create( EventDispatcher.prototype );


            // Using events

            var car = new Car();

            car.addEventListener( 'start', function ( event ) {

                console.log( event.message );

            } );

            car.start();



            var prototypicalCar = new PrototypicalCar();

            prototypicalCar.addEventListener( 'start', function( event ) {

                console.log( event.message );

            } );

            prototypicalCar.start();

        </script>
    </body>
</html>
